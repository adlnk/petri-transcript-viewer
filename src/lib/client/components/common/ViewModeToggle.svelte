<script lang="ts">
  import { viewSettings } from '$lib/client/stores';
  import type { RowDensity } from '$lib/shared/types';

  const densityOptions: { value: RowDensity; label: string; title: string }[] = [
    { value: 'compact', label: 'Compact', title: 'Single line per row, no text wrapping' },
    { value: 'normal', label: 'Normal', title: 'Default row height with some text wrapping' },
    { value: 'expanded', label: 'Expanded', title: 'Full height rows showing all content' },
  ];
</script>

<div class="flex items-center gap-4">
  <!-- View Mode Toggle -->
  <div class="tabs tabs-boxed">
    <button
      class="tab {viewSettings.value.viewMode === 'tree' ? 'tab-active' : ''}"
      onclick={() => viewSettings.value.viewMode = 'tree'}
    >
      Tree View
    </button>
    <button
      class="tab {viewSettings.value.viewMode === 'list' ? 'tab-active' : ''}"
      onclick={() => viewSettings.value.viewMode = 'list'}
    >
      List View
    </button>
  </div>

  <!-- Row Density Toggle -->
  <div class="flex items-center gap-2">
    <span class="text-sm text-base-content/70">Density:</span>
    <div class="join">
      {#each densityOptions as option}
        <button
          class="join-item btn btn-xs {viewSettings.value.rowDensity === option.value ? 'btn-active' : ''}"
          onclick={() => viewSettings.value.rowDensity = option.value}
          title={option.title}
        >
          {option.label}
        </button>
      {/each}
    </div>
  </div>
</div>
